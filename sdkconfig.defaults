# Rust often needs a bit of an extra main task stack size compared to C (the default is 3K)
CONFIG_ESP_MAIN_TASK_STACK_SIZE=8000

# Use this to set FreeRTOS kernel tick frequency to 1000 Hz (100 Hz by default).
# This allows to use 1 ms granularity for thread sleeps (10 ms by default).
#CONFIG_FREERTOS_HZ=1000

# Workaround for https://github.com/espressif/esp-idf/issues/7631
#CONFIG_MBEDTLS_CERTIFICATE_BUNDLE=n
#CONFIG_MBEDTLS_CERTIFICATE_BUNDLE_DEFAULT_FULL=n

# Enable Bluetooth support
CONFIG_BT_ENABLED=y
CONFIG_BT_BLE_ENABLED=y
CONFIG_BT_BLUEDROID_ENABLED=y
CONFIG_BT_BLE_42_FEATURES=y

# BLE advertising configuration  
CONFIG_BT_BLE_ADV_REPORT_FLOW_CTRL_SUPP=y
CONFIG_BT_BLE_ADV_REPORT_FLOW_CTRL_NUM=100

# Increase BLE memory allocation
CONFIG_BT_BLE_DYNAMIC_ENV_MEMORY=y

# ==================================
# COMPREHENSIVE DEBUG LOGGING
# ==================================

# Set global log level to DEBUG
CONFIG_LOG_DEFAULT_LEVEL_DEBUG=y
CONFIG_LOG_DEFAULT_LEVEL=4

# Enable verbose logging for specific components
CONFIG_LOG_MAXIMUM_LEVEL=5

# MQTT Client Debug Logging
CONFIG_LOG_MQTT_CLIENT_LEVEL=5
CONFIG_LOG_MQTT_CLIENT_LEVEL_DEBUG=y

# ESP-TLS Debug Logging  
CONFIG_LOG_ESP_TLS_LEVEL=5
CONFIG_LOG_ESP_TLS_LEVEL_DEBUG=y

# mbedTLS Debug Logging
CONFIG_LOG_MBEDTLS_LEVEL=5
CONFIG_LOG_MBEDTLS_LEVEL_DEBUG=y
CONFIG_MBEDTLS_DEBUG_C=y
CONFIG_MBEDTLS_SSL_DEBUG_ALL=y

# TCP Transport Debug Logging
CONFIG_LOG_TCP_TRANSPORT_LEVEL=5
CONFIG_LOG_TCP_TRANSPORT_LEVEL_DEBUG=y

# SSL Transport Debug Logging  
CONFIG_LOG_SSL_TRANSPORT_LEVEL=5
CONFIG_LOG_SSL_TRANSPORT_LEVEL_DEBUG=y

# HTTP Client Debug Logging (in case it's related)
CONFIG_LOG_HTTP_CLIENT_LEVEL=5
CONFIG_LOG_HTTP_CLIENT_LEVEL_DEBUG=y

# WiFi Debug Logging  
CONFIG_LOG_WIFI_LEVEL=4
CONFIG_LOG_WIFI_LEVEL_INFO=y

# Enable mbedTLS certificate verification debug
CONFIG_MBEDTLS_SSL_DEBUG_ALL=y
CONFIG_MBEDTLS_DEBUG_C=y

# Increase log buffer sizes for debug output
CONFIG_LOG_RINGBUFFER_SIZE=16384

# Enable detailed certificate validation logging
CONFIG_MBEDTLS_X509_CHECK_KEY_USAGE=y
CONFIG_MBEDTLS_X509_CHECK_EXTENDED_KEY_USAGE=y
